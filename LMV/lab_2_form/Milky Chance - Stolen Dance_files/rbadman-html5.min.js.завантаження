/**
 * Mail.ru RBAdman-HTML5
 * Release date: 2016-11-29
 * Version: 2.1.18
 */
AdmanHTML=function(){"use strict";function a(a){B.rb(16138744),y.slotId=a.slot,y.wrapper=a.wrapper,y.videoEl=a.videoEl,y.quality=parseInt(a.videoQuality||360,10),y.browser=a.browser,y.config=a.config||{},D=a.midrollPointsP||null,C=!D&&a.midrollPoints?a.midrollPoints:null,y.config.vpaidJsInterface||(y.config.vpaidJsInterface=z),y.config.vpaidHtmlInterface=A;var b="//ad.mail.ru/vp/"+y.slotId;if(a.params&&a.params.constructor&&a.params.constructor===Object){var c=[];"flash"in a.params||(a.params.flash=AdmanHTML.Utils.checkFlash()?1:0);for(var d in a.params)a.params.hasOwnProperty(d)&&c.push(d+"="+a.params[d]);c.length&&(b+="?"+c.join("&"))}if(y.slotId&&y.wrapper&&!y.browser.adBlock)s=new AdmanHTML.AdSlot(y,b,function(){y.cb("onReady",[{settings:s.settings}]);var a=s.getSection("midroll"),b=[],c=[];a&&a.forEach(function(a){if(!a.isEmpty()){var d=a.getAd();d.pointP?b.push(d.pointP):d.point?c.push(d.point):D&&D.length?(d.pointP=D.shift(),b.push(d.pointP)):C&&C.length?(d.point=C.shift(),c.push(d.point)):D||C||(d.pointP=50,b.push(d.pointP))}}),D=b.sort(AdmanHTML.Utils.numSorter),C=c.sort(AdmanHTML.Utils.numSorter)});else{B.logError("Adman init failed");var e=y.callbacks.onError;e&&e(),v=u=t=null}}function b(a){var b;v&&(v.log("sectionShown"),v.disposed||(v.dispose(),v.disposed=!0,r(v,t)),a&&v.log("closedByUser")),t&&!I[t]&&(I[t]="midroll"===t?!1:!0,b=a?y.callbacks.onClosed:y.callbacks.onCompleted),H[t]&&u&&(H[t]=H[t].concat(u.splice(0,u.length))),v=u=t=null,f(),b&&b()}function c(){var a=s.getSettings(t).maxBannersShow||0,d=G[t]||0,e=!a||a>d;if(v&&!v.disposed&&(v.complete&&v.log("playbackCompleted"),v.dispose(),v.disposed=!0,r(v,t)),u&&u.length&&e)v=u.shift(),G[t]=d+(v.isEmpty()?0:1),v.reset(),v.started=!0,v.start();else{var f=s.getNextAfterService(t);f&&e?f.start(function(){u=s.getSection(t),c()}):s.getSettings(t).loop&&H[t]&&H[t].length?(u=H[t],H[t]=[],c()):b()}}function d(a){u||(t=a||"preroll",u=s.getSection(t),"midroll"===a&&(u=h(u)),c(),t&&(H[t]=H[t]||[]),v&&(v.log("sectionStarted"),y.debugMode&&console.log(t,v.getAd(),v.getSettings(),u)),e(t))}function e(a){w=s.getDebug(a),w&&w.start()}function f(){w&&w.dispose(),w=null}function g(a,b){function c(a,b){for(var c=0;c<a.length&&!(a[c]>b);c++);return a.slice(0,c)}var d=parseInt(a),e=Math.floor(100*a/b);x=b,E=D?c(D,e):[],F=C?c(C,d):[],(E.length||F.length)&&y.cb("adMidrollPoint",[a])}function h(a){function b(a,b){var c=a.getAd(),d=b.getAd(),e=c.point||c.pointP*x/100,f=d.point||d.pointP*x/100;return e-f}var c=[];return a&&a.forEach(function(a){var b=a.getAd();(b.pointP&&~E.indexOf(b.pointP)||b.point&&~F.indexOf(b.point))&&c.push(a)}),D=D&&D.slice(E.length),C=C&&C.slice(F.length),c.sort(b),c}function i(){y.cb("onSkipped"),v&&(v.log("closedByUser"),v.skip(c))}function j(){v&&(v.log("playbackPaused"),v.pause())}function k(){v&&(v.log("playbackResumed"),v.resume())}function l(a){a=0>a?0:a>1?1:a,v&&(v.log(a?"volumeOn":"volumeOff"),v.setVolume(a))}function m(){v&&v.log("fullscreenOn")}function n(){v&&v.log("fullscreenOff")}function o(){b()}function p(a,b){y.callbacks[a]=b}function q(a){var b=[],c=s.getSection(a||"preroll");return c&&c.forEach(function(a){a.isEmpty()||b.push(a.getExtendedAdForApp())}),b}function r(a,b){a.isEmpty()||a.isStat()||H[b]&&H[b].push(a)}var s,t,u,v,w,x,y={version:"2.1.18",debugMode:!0,callbacks:{},cb:function(a,d){switch(a){case"onCompleted":v&&(v.complete=!0),c();break;case"onError":v&&(v.error=!0),c();break;case"onClosed":b(!0);break;default:var e=y.callbacks[a];e&&e.apply(this,d)}}},z="//ad.mail.ru/static/admanhtml/2.1.18/vpaid-js-interface.swf",A="//ad.mail.ru/static/admanhtml/2.1.18/vpaid-js-interface.html",B=new AdmanHTML.Stats(y),C=[],D=[],E=[],F=[],G={},H={};y.stats=B,B.rb(16138736);var I={};return{init:a,start:d,stop:o,pause:j,resume:k,setVolume:l,fullscreenOn:m,fullscreenOff:n,setFullscreen:function(a){a?m():n()},skip:i,destroy:o,getSlot:function(){return y.slotId},setSlot:function(a){y.slotId=a},getVersion:function(){return y.version},getBannersForSection:q,setDebug:function(a){y.debugMode=a},setPosition:g,onReady:p.bind(this,"onReady"),onError:p.bind(this,"onError"),onStarted:p.bind(this,"onStarted"),onPaused:p.bind(this,"onPaused"),onPlayed:p.bind(this,"onPlayed"),onCompleted:p.bind(this,"onCompleted"),onClosed:p.bind(this,"onClosed"),onSkipped:p.bind(this,"onSkipped"),onClicked:p.bind(this,"onClicked"),onTimeRemained:p.bind(this,"onTimeRemained"),adMidrollPoint:p.bind(this,"adMidrollPoint")}},AdmanHTML.Ad=function(a,b){"use strict";function c(a){a&&a.forEach(function(a){d(a.url,a.type,a)})}function d(a,c,d){if(a=decodeURIComponent(a),"playheadReachedValue"===c){var e;void 0!==d.thresholdValue||void 0!==d.value?(e=parseInt(d.thresholdValue||d.value,10),b.stats.push({name:"thresholdValue",value:e,type:"thresholdValue."+e,url:a})):(void 0!==d.thresholdPValue||void 0!==d.pvalue)&&(e=parseInt(d.thresholdPValue||d.pvalue,10),b.stats.push({name:"thresholdPValue",value:e,type:"thresholdPValue."+e,url:a}))}else b.stats.push({name:c,type:c,url:a})}function e(a){b.click=a,b.ad&&(b.ad.urlToNavigateOnClick=a)}function f(a,c){b.extensions[a]=c}function g(a){b.settings=b.settings||{},AdmanHTML.Utils.deepExtend(b.settings,a)}function h(c){function d(a){var c=a.type||"",d=a.src;return~c.indexOf("video")&&"video/mp4"!==c||~c.indexOf("audio")&&"audio/mp3"!==c&&"audio/mpeg"!==c||"video"===b.ad.type&&!~d.indexOf(".mp4")||"audio"===b.ad.type&&!~d.indexOf(".mp3")?!1:!0}function e(){a.stats.rb(16138780),a.stats.logError("UNKNOWN_ADV_TYPE")}if(b.ad=c,b.click&&(b.ad.urlToNavigateOnClick=b.click),AdmanHTML.Utils.mixin(b.ad,b.extensions),b.ad.mediafiles&&b.ad.mediafiles.length){var f;b.ad.mediafiles.forEach(function(b){d(b)&&(!f||Math.abs(parseInt(b.height)-a.quality)<Math.abs(parseInt(f.height)-a.quality))&&(f=b)}),f&&AdmanHTML.Utils.mixin(b.ad,f)}delete b.ad.statistics,delete b.ad.mediafiles;var g,h;switch(b.ad.type){case"swf":case"application/x-shockwave-flash":if(h=b.ad.apiFramework||b.ad.api,a.browser.mobile||h&&"VPAID"!==h)return e(),!1;g=h?new AdmanHTML.VpaidSwfAdRenderer(a,this):new AdmanHTML.SwfAdRenderer(a,this);break;case"javascript":case"application/javascript":if(h=b.ad.apiFramework||b.ad.api,h&&"VPAID"!==h)return e(),!1;g=new AdmanHTML.VpaidJsAdRenderer(a,this);break;case"video":case"video/mp4":if(!~b.ad.src.indexOf(".mp4"))return e(),!1;g=new AdmanHTML.VideoAdRenderer(a,this);break;case"audio":case"audio/mp3":case"audio/mpeg":g=new AdmanHTML.AudioAdRenderer(a,this);break;case"image":case"image/bmp":case"image/gif":case"image/jpeg":case"image/png":g=new AdmanHTML.ImgAdRenderer(a,this);break;case"text":g=new AdmanHTML.TextAdRenderer(a,this);break;case"empty":g=new AdmanHTML.EmptyAdRenderer(a,this);break;case"statistics":g=new AdmanHTML.StatisticsAdRenderer(a,this);break;case"debugData":g=new AdmanHTML.DebugAdRenderer(a,this);break;case"video/x-flv":default:return e(),!1}return b.renderer=g,!0}function i(){return new AdmanHTML.Ad(a,JSON.parse(JSON.stringify(b)))}function j(){this.started&&(b.ad&&h.call(this,b.ad),this.disposed=!1,this.completed=!1,this.error=!1,this.started=!1),b.statsBackup?b.stats=b.statsBackup.slice():b.statsBackup=b.stats.slice()}function k(a,c){function d(a){AdmanHTML.Utils.loadImg(a.url);var b=h.indexOf(a);~b&&i&&h.splice(b,1)}function e(a){a=25*Math.floor(a/25);var b=o["thresholdPValue."+a];b&&(g=g.concat(b))}var f=a+("undefined"==typeof c?"":"."+c),g=o[f]?o[f].slice(0):[];g.push(f);var h=b.stats.slice(0);"thresholdPValue"===a&&e(c);var i="thresholdPValue"===a||"thresholdValue"===a||"closedByUser"===a;b.stats.forEach(function(b){"thresholdPValue"===a&&"thresholdPValue"===b.name&&b.value<c?d(b,i):"thresholdValue"===a&&"thresholdValue"===b.name&&b.value<c&&d(b,i),~g.indexOf(b.type)&&d(b,i)}),b.stats=h}function l(a,c){b.renderer&&b.renderer[a]&&b.renderer[a](c)}function m(){var a={};return a="audio"===b.ad.type||"audio/mp3"===b.ad.type?{allowSeek:!0,allowSkip:!1,allowTrackChange:!0,allowVolumeChange:!1}:b.settings?{allowClose:b.settings.hasOwnProperty("allowClose")?b.settings.allowClose:!0,allowCloseDelay:b.settings.hasOwnProperty("allowCloseDelay")?b.settings.allowCloseDelay:0}:{allowClose:!0,allowCloseDelay:0},AdmanHTML.Utils.mixin(a,b.ad),a}function n(){var a=m();return a.statistics=b.stats.slice(0),a}b=b||{stats:[],extensions:{}};var o={closedByUser:["close","skipAd"],click:["addClick"],"thresholdPValue.25":["firstQuartile"],"thresholdPValue.50":["secondQuartile","midpoint"],"thresholdPValue.75":["thirdQuartile"],"thresholdPValue.100":["fourthQuartile"],playbackStarted:["start"],playbackCompleted:["complete"],volumeOff:["mute"],volumeOn:["unmute"],playbackPaused:["pause"],playbackResumed:["resume"],fullscreenOn:["fullscreen"],error:["Error"]};return{addStatCollection:c,addStat:d,addClick:e,addExtension:f,addSettings:g,getSettings:function(){return b.settings},addAd:h,getAd:function(){return b.ad},getAdForApp:m,getExtendedAdForApp:n,isEmpty:function(){return"empty"===b.ad.type},isStat:function(){return"statistics"===b.ad.type},clone:i,reset:j,log:k,start:l.bind(this,"start"),dispose:l.bind(this,"dispose"),pause:l.bind(this,"pause"),resume:l.bind(this,"resume"),setVolume:l.bind(this,"setVolume"),skip:l.bind(this,"skip"),complete:!1,error:!1}},AdmanHTML.AdSlot=function(a,b,c){"use strict";function d(b,c,d,f,i,j){if(d&&d>4)return void e(j);var k=x.getService(b.id);k&&k.log("serviceRequested"),++s,AdmanHTML.Utils.xhr(b.url,function(k){var l={};--s,k?(t++,k=k.trim(),"<"===k.charAt(0)?(l=h(k,b,c,d||0,f,i,j),u++):"{"===k.charAt(0)?(l=g(k,b,c,d||0,f,i,j),u++):(a.stats.rb(16138772),a.stats.logError("UNKNOWN_DATA_FORMAT"))):(a.stats.logError("SLOT_LOADING_ERROR"),console.log(b.url)),b.id&&(l.banners||l.services?l.banners&&x.markNonEmptyService(b.id):x.markEmptyService(b.id)),e(j)})}function e(b){if(!s){if(t&&u){var d=x.getNextOnEmptyService();if(d)return void d.start(e.bind(null,b));n();var g=b||c;return g.called||(g.called=!0,g()),void(a.debugMode&&console.log(p))}f()}}function f(){var b=a.callbacks.onError;b&&b()}function g(b,c,e,f,g,h,n){function o(a){return a?a.filter(function(a){return a.type&&("sectionShown"===a.type||"sectionStarted"===a.type||"sectionEmpty"===a.type)}):[]}function q(b,g,h,l){var m=e?e.clone():new AdmanHTML.Ad(a);if(m.addStatCollection(b.statistics),m.addStatCollection(b.serviceStatistics),"additionalData"===b.type){var o;b.id=b.id||AdmanHTML.Utils.createIntUID(),t.services++;var q=!p[h]||0===p[h].length;if(g>0&&q&&(w[h]=!0),b.extensions)for(var r in b.extensions)b.extensions.hasOwnProperty(r)&&i(m,b.extensions[r],r);if("true"===b.doAfter||b.doAfter===!0||b.doOnEmptyResponseFromId){var s="true"===b.doAfter||b.doAfter===!0?v.POST:null,u=function(a){d(b,m,++f,h,s,function(){a&&a()})};o=new AdmanHTML.ServiceAd(a,null,u),k(h,c.id,o,b)}else o=new AdmanHTML.ServiceAd(a),k(h,c.id,o,b),0===g&&q?d(b,m,++f,h,v.PRE,n):d(b,m,++f,h,null,n)}else j(h,l,m,b),t.banners++;return m}var r,s,t={banners:0,services:0};try{r=JSON.parse(b)}catch(u){return a.stats.rb(16138753),void a.stats.logError("ERROR_CONVERTING_STRING_TO_JSON")}for(var x in r.sections)if(r.sections.hasOwnProperty(x)){var y=r.sections[x],z=0;if(r.settings&&(s=r.settings[x])&&(s.controlsStyle=r.settings.controlsStyle||0,m(x,s)),y.forEach(function(b){if("debugData"===b.type){var c=new AdmanHTML.Ad(a);return c.addClick(b.url),void l(x,c,b)}var d=g===x?h:"",e=q(b,z,x,d);s&&(e.addStatCollection(o(s.statistics)),e.addSettings(s)),z++}),0===y.length){var A=new AdmanHTML.Ad(a);s&&A.addStatCollection(o(s.statistics)),j(x,"",A,{type:"empty"})}}return r.type&&q(r,0,g,h),t}function h(b,c,e,f,g,h,k){function l(a,b,c){n(a.getElementsByTagName(b),c)}function m(a,b,c,d){l(a,b,function(a){d(p(a),c?o(a,c):null,a)})}function n(a,b){Array.prototype.forEach.call(a,b.bind(this))}function o(a,b){var c=a.attributes.getNamedItem(b);return c?c.value:null}function p(a){return a&&a.childNodes&&a.childNodes[0]&&a.childNodes[0].wholeText?a.childNodes[0].wholeText.trim():null}var q,r={banners:0,services:0};try{q=AdmanHTML.Utils.parseXml(b)}catch(s){return a.stats.rb(16138763),void a.stats.logError("ERROR_CONVERTING_STRING_TO_XML")}return l(q,"Ad",function(b){function q(c){var d=e?e.clone():new AdmanHTML.Ad(a);m(b,"Impression","id",function(a){try{d.addStat(a,"playbackStarted")}catch(b){}}),m(b,"Extension","type",function(a,b){i(d,a,b)}),m(b,"Error",null,function(a){d.addStat(a,"error")}),m(c,"Tracking","event",d.addStat);var f=c.getElementsByTagName("VideoClicks")[0];return f&&n(f.childNodes,function(a){"ClickThrough"===a.tagName?d.addClick(p(a)):"ClickTracking"===a.tagName&&d.addStat(p(a),"click")}),d}function s(a){var b={width:o(a,"width"),height:o(a,"height"),id:o(a,"id"),assetWidth:o(a,"assetWidth"),assetHeight:o(a,"assetHeight"),expandedWidth:o(a,"expandedWidth"),expandedHeight:o(a,"expandedHeight"),apiFramework:o(a,"apiFramework"),adSlotID:o(a,"adSlotID"),statistics:[]};return m(a,"StaticResource",null,function(a){b.staticResource=a}),m(a,"HTMLResource",null,function(a){b.htmlResource=a}),m(a,"IFrameResource",null,function(a){b.iframeResource=a}),m(a,"CompanionClickTracking",null,function(a){b.statistics.push({type:"click",url:a})}),m(a,"Tracking","event",function(a,c){b.statistics.push({type:c,url:a})}),m(a,"CompanionClickThrough",null,function(a){b.urlToNavigateOnClick=a}),b}l(b,"InLine",function(a){var b=[];l(a,"CompanionAds",function(c){var d=o(c,"required")||"none";l(a,"Companion",function(a){var c=s(a);c.required=d,b.push(c)})}),l(a,"Linear",function(a){var c=q(a),d={mediafiles:[],duration:AdmanHTML.Utils.convertDuration(p(a.getElementsByTagName("Duration")[0]))};l(a,"MediaFile",function(a){d.mediafiles.push({apiFramework:o(a,"apiFramework"),type:o(a,"type"),width:o(a,"width"),height:o(a,"height"),src:p(a)})}),l(a,"AdParameters",function(a){d.params=p(a)}),b.length&&(d.companionAds=b),j(g||"preroll",h,c,d),r.banners++}),l(a,"NonLinear",function(a){var b=q(a),c={width:o(a,"width"),height:o(a,"height"),duration:AdmanHTML.Utils.convertDuration(o(a,"minSuggestedDuration")),mediafiles:[]};m(a,"NonLinearClickThrough",null,function(a){b.addStat(a,"click")}),m(a,"StaticResource","creativeType",function(a,b){c.mediafiles.push({type:b,src:a})}),j(g||"overlay",h,b,c),r.banners++})}),l(b,"VASTAdTagURI",function(a){r.services++,d({url:p(a),id:c.id},q(b),++f,g,h,k)})}),r}function i(a,b,c){"controls"===c?a.addExtension("showControls",Boolean(parseInt(b,10))):"skipTime2"===c?(b=isNaN(b)?AdmanHTML.Utils.convertDuration("00:"+b):parseInt(b,10),a.addExtension("allowCloseDelay",b)):a.addStat(b,c)}function j(a,b,c,d){c.addAd(d)&&(c.sectionType=a,b===v.PRE&&w[a]&&(b=""),a=(b||"")+a,p[a]=p[a]||[],p[a].push(c))}function k(a,b,c,d){c.addAd(d),c.addStatCollection(d.statistics),c.addStatCollection(d.serviceStatistics),c.sectionType=a,x.addService(c,b)}function l(a,b,c){b.addAd(c)&&(b.section=a,r[a]=b)}function m(a,b){q[a]=q[a]||{},AdmanHTML.Utils.mixin(q[a],b),delete q[a].statistics,delete q[a].view,delete q[a].advertisment}function n(){var a="preroll midroll pauseroll overlay postroll".split(" ");a.forEach(function(a){var b=w[a]?p[a]:p[v.PRE+a],c=w[a]?p[v.PRE+a]:p[a],d=p[v.POST+a];p[a]=[].concat(b||[],c||[],d||[]),o(v.PRE+a),o(v.POST+a)})}function o(a){p[a]=[]}var p={},q={},r={},s=0,t=0,u=0,v={PRE:"pre-",POST:"post-"},w={},x=new AdmanHTML.ServiceStorage;return d({url:b}),{getSection:function(a){return p[a]},getNextAfterService:x.getNextAfterService,getSettings:function(a){return q[a]||{}},getDebug:function(a){return r[a]}}},AdmanHTML.ServiceAd=function(a,b,c){"use strict";function d(a){return b.ad=a,!0}function e(a){var b=a?a.filter(function(a){return"serviceRequested"===a.type||"serviceAnswerEmpty"===a.type}):[];b&&b.forEach(function(a){f(a.url,a.type,a)})}function f(a,c){a=decodeURIComponent(a),b.stats.push({name:c,type:c,url:a})}function g(a){c&&c(a)}function h(){return b.ad&&b.ad.doAfter?b.ad.doAfter===!0||"true"===b.ad.doAfter:!1}function i(a){function c(a){AdmanHTML.Utils.loadImg(a.url);var b=d.indexOf(a);~b&&d.splice(b,1)}var d=b.stats.slice(0);b.stats.forEach(function(b){b.type===a&&c(b)}),b.stats=d}return b=b||{stats:[]},{addStatCollection:e,addStat:f,addAd:d,getAd:function(){return b.ad},start:g,log:i,isAfter:h}},AdmanHTML.ServiceStorage=function(){"use strict";function a(a,b){var c=a.getAd();i.push(c.id),h[c.id]={service:a},b&&h[b]&&(h[b].children=h[b].children||[],h[b].children.push(c.id)),("true"===c.doAfter||c.doAfter===!0||c.doOnEmptyResponseFromId)&&g.push(a)}function b(a){return h[a]?h[a].service:null}function c(a){var b,c,d,e;for(b=i.length-1;b>=0;b--)if(c=i[b],h[c])if(d=h[c].service,c===a)d.log("serviceAnswerEmpty"),i.splice(b,1),j.push(a),delete h[c];else{if(e=h[c].children,!e)continue;-1!==e.indexOf(a)&&e.splice(e.indexOf(a),1),0===e.length&&(a=c,b++)}}function d(a){var b=h[a];b&&(b.children=null)}function e(){var a,b,c,d;for(a=0,b=g.length;b>a;a++)if(c=g[a],d=c.getAd().doOnEmptyResponseFromId,d&&-1!==j.indexOf(d)&&!c.isAfter())return g.splice(a,1),c;return null}function f(a){if(!a)return null;var b,c,d,e;for(b=0,c=g.length;c>b;b++)if(d=g[b],d.sectionType===a&&d.isAfter()){if(e=d.getAd().doOnEmptyResponseFromId,e&&-1===j.indexOf(e))continue;return g.splice(b,1),d}return null}var g=[],h={},i=[],j=[];return{addService:a,getService:b,markEmptyService:c,markNonEmptyService:d,getNextAfterService:f,getNextOnEmptyService:e}},"function"==typeof define&&define.amd&&define(function(){"use strict";return AdmanHTML}),AdmanHTML.VpaidLoader=function(){"use strict";function a(a){this.video=a,this._props={}}return a.prototype.load=function(a,b){var c=document.createElement("iframe");return this.adframe=c,this.src=a,c.width="100%",c.height="100%",c.scrolling="no",c.marginWidth="0",c.marginHeight="0",c.frameBorder="0",c.src=b,c.id="ad-frame",c.onload=function(){this.send({type:"vpaid",method:"load",src:this.src})}.bind(this),this.processMessage=this.processMessage.bind(this),this.videoEventHandler=this.videoEventHandler.bind(this),this.videoEvents=["volumechange"],this.video.addEventListener("volumechange",this.videoEventHandler),window.addEventListener("message",this.processMessage),c},a.prototype.processMessage=function(a){if(a.source===this.adframe.contentWindow)try{var b=JSON.parse(a.data);switch(b.type){case"video":this.videoMessageHandler(b);break;case"vpaid":this.vpaidMessageHandler(b)}}catch(c){}},a.prototype.videoMessageHandler=function(a){switch(a.src&&a.src.replace(/https?:/,"")!==this.video.src.replace(/https?:/,"")&&(this.video.src=a.src),a.method){case"load":this.video.load();break;case"play":this.video.play();break;case"pause":this.video.pause();break;case"muted":this.video.muted=a.value;break;case"volume":this.video.volume=a.value;break;case"addEventListener":this.videoEvents=this.videoEvents||[],this.videoEvents.push(a.eventType),this.video.addEventListener(a.eventType,this.videoEventHandler)}},a.prototype.videoEventHandler=function(a){this.send({type:"video",method:"emit",eventType:a.type,currentTime:this.video.currentTime,duration:this.video.duration,volume:this.video.volume,muted:this.video.muted})},a.prototype.vpaidMessageHandler=function(a){AdmanHTML.Utils.mixin(this._props,a.props),"function"==typeof this.onVpaidCallback&&this.onVpaidCallback(a.eventType,a.props)},a.prototype.call=function(a,b){var c={type:"vpaid",method:a};return b&&(c.params=b),this.send(c),a in this._props?this._props[a]:void 0},a.prototype.callGet=function(a){return this._props[a]},a.prototype.callSet=function(a,b){return a="set"+a.charAt(0).toUpperCase()+a.slice(1),this.call(a,[b])},a.prototype.send=function(a){this.adframe&&this.adframe.contentWindow.postMessage(JSON.stringify(a),"*")},a.prototype.onVpaidEvent=function(a){this.onVpaidCallback=a},a.prototype.destroy=function(){if(this.adframe&&this.adframe.parentNode&&this.adframe.parentNode.removeChild(this.adframe),this.videoEvents&&this.videoEvents.length)for(var a=0,b=this.videoEvents.length;b>a;a++)this.video.removeEventListener(this.videoEvents[a],this.videoEventHandler);this.video.pause(),this.video.src="",this.adframe=null,window.removeEventListener("message",this.processMessage)},a}(),AdmanHTML.Stats=function(a){"use strict";function b(a){d("//r.mail.ru/d"+a+".gif?rnd="+Math.random())}function c(b){d("//ad.mail.ru/admanhtml/?app=admanhtml&ver="+a.version+"&error="+encodeURI(b)+"&slot="+a.slotId),a.debugMode&&console&&console.warn&&console.warn("Error: "+b)}function d(a){AdmanHTML.Utils.loadImg(a)}return{rb:b,logError:c,simple:d}},AdmanHTML.StyleUtils=function(){"use strict";function a(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function b(b,c,d){var e,f=g[c];if(!f)for(e=0;e<h.length;e++)if(f=""===h[e]?c:a(h[e]+"-"+c),void 0!==b[f]){g[c]=f;break}b[f]=d}function c(a){return parseInt(a)+"px"}function d(a,b){function c(a,b){a=parseInt(a,16),b=b||1;var c=a>>16&255,d=a>>8&255,e=255&a;return"rgba("+c+","+d+","+e+","+b+")"}if(Array.isArray(a)){var d=a.map(function(a){return c(a,b)});return"linear-gradient("+d.join(", ")+")"}return c(a,b)}function e(a,b,c){var d=a.style,e=c||Object.keys(b);e.forEach(function(a){b.hasOwnProperty(a)&&f(d,a,b[a],b)})}function f(a,e,f,g){var h,i,j;switch(e){case"fontFace":h="fontFamily",i=f;break;case"hasBackground":f||(h="background",i="none",delete g.backgroundColor);break;case"backgroundColor":h="background",i=d(f,g.backgroundAlpha);break;case"cornerRounding":case"borderCornerRounding":h="borderRadius",i=c(Math.floor(f/2));break;case"headerColor":case"bodyColor":case"hyperlinkColor":case"textColor":h="color",i=d(f);break;case"headerSize":case"bodySize":case"hyperlinkSize":case"textSize":h="fontSize",i=c(f);break;case"headerUnderline":case"bodyUnderline":case"hyperlinkUnderline":case"textUnderline":h="text-decoration",i=f?"underline":"none",j="";break;case"headerUnderlineOnRollOver":h="text-decoration",i=f?"":"none",j=f?"":"important";break;case"headerBold":case"bodyBold":case"hyperlinkBold":case"textBold":h="fontWeight",i=f?"bold":"normal";break;case"headerIndent":case"bodyIndent":case"hyperlinkIndent":h="marginTop",i=c(f);break;case"bodyPaddingRight":h="marginRight",i=c(f);break;case"width":case"height":h=e,i=c(f);break;case"contentPadding":case"contentIndent":case"controlsSafeArea":h="padding",i=c(f);break;case"maxImageWidth":case"maxImageHeight":h="maxImageWidth"===e?"maxWidth":"maxHeight",i=c(f);break;case"borderSize":h="borderWidth",i=c(f);break;case"borderColor":h="borderColor",i=d(f,g.borderAlpha);break;case"paddingLeft":case"paddingTop":h="paddingLeft"===e?"left":"top",i=c(f);break;case"controlsPaddingTop":case"controlsPaddingRight":h="controlsPaddingRight"===e?"right":"top",i=c(f)}h&&i&&(void 0!==j?a.setProperty(h,i,j):b(a,h,i))}var g={},h=["","webkit","Moz","O","ms"];return{applyStyle:e,getLength:c}}(),AdmanHTML.Utils=function(){"use strict";function a(){return D.major?C:B}function b(b){b(a())}function c(a,b){b&&a.addEventListener("load",b,!1);var c=document.getElementsByTagName("head");if(c&&c.length){var d=c[0];d&&d.appendChild(a)}}function d(a,b,d){var e=document.getElementById(b);if(e&&e.parentNode){if(!d)return;e.parentNode.removeChild(e)}e=document.createElement("style"),e.type="text/css",e.id=b,e.innerHTML=a,c(e)}function e(a){var b=document.querySelector("link[href*='"+a+"']");b||(b=document.createElement("link"),b.type="text/css",b.rel="stylesheet",b.href=a,c(b))}function f(a){var b=document.querySelector("script[src*='"+a+"']");b||(b=document.createElement("script"),b.setAttribute("type","text/javascript"),b.setAttribute("charset","utf8"),b.setAttribute("src",a),c(b))}function g(a,b){var c=new Image;c.onload=function(){b&&b(c)},c.src=a}function h(a,b,c,d,e){d=d||"GET";var f=new XMLHttpRequest;return f.open(d,a,!0),f.withCredentials=!e,f.setRequestHeader("Content-Type","text/plain"),f.send(c||null),b&&(f.onreadystatechange=function(){4===f.readyState&&200===f.status&&b(f.response)},f.onerror=function(){e?b():h(a,b,c,d,!0)}),f}function i(a,b,c,d,e){void 0===e&&(e=!0);var f=a*d>b*c;e&&(f=!f);var g=f?d/b:c/a,h=Math.floor(a*g),i=Math.floor(b*g);return{x:Math.floor((c-h)/2),y:Math.floor((d-i)/2),width:Math.floor(h),height:Math.floor(i)}}function j(a){var b=typeof a;return"object"===b&&!!a&&!Array.isArray(a)}function k(a){var b;for(b in a)return!1;return!0}function l(a,b){if(b){var c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}function m(a,b){if(b){var c,d;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d=b[c],j(d)?(a[c]=a[c]||{},a[c]=m(a[c],d)):a[c]=d)}return a}function n(a,b,c){return a=a||0,b=b||0,c=c||1,Math.min(c,Math.max(b,a))}function o(a,b){return a-b}function p(){return Math.floor(Math.random()*Math.pow(2,48)).toString()}function q(a){a=a.split("+").join(" ");for(var b,c={},d=/[?&]?([^=]+)=([^&]*)/g;b=d.exec(a);)c[decodeURIComponent(b[1])]=decodeURIComponent(b[2]);return c}function r(a,b){var c;document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0)):(c=document.createEventObject(),c.eventType=b),c.eventName=b,document.createEvent?a.dispatchEvent(c):a.fireEvent("on"+c.eventType,c)}function s(a){return a?a.substring(a.indexOf("//")+2,a.indexOf("/?")):""}function t(a){var b=a.button,c=a.which;return c||void 0===b?c:1&b?1:2&b?3:4&b?2:0}function u(a){return 1===t(a)}function v(a,b){return b=b||document.body,a===b?!1:b.contains(a)}function w(a){a.preventDefault()}function x(a){var b;if(window.DOMParser)b=(new DOMParser).parseFromString(a,"text/xml");else{if(!window.ActiveXObject)return;b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a)}return b.documentElement}function y(a){if(a){var b=a.split(":");if(3===b.length){var c=parseInt(b[0],10),d=parseInt(b[1],10),e=b[2].split("."),f=parseInt(e[0],10),g=0;if(2===e.length&&(g=parseInt(e[1],10)),!(isNaN(c)||isNaN(d)||isNaN(f)||isNaN(g)))return 3600*c+60*d+f+g/1e3}}return NaN}function z(a,b){var c,d=a;for(c in b)b.hasOwnProperty(c)&&(d=d.replace("{{"+c+"}}",b[c]));return d}function A(a,b){if(b=b||0,window.Worker&&window.Blob){var c,d=new Blob(['var timeout; onmessage = function(e) {clearTimeout(timeout); if (e.data === "start") {timeout = setTimeout(function() { postMessage({}); }, '+b+");}}"]);try{c=new Worker(window.URL.createObjectURL(d)),c.onmessage=function(){c.terminate(),a()},c.postMessage("start")}catch(e){return setTimeout(a,b)}return c}return setTimeout(a,b)}var B=0,C=1,D=function(){var a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f={major:0,minor:0,release:0},g=null;if(typeof navigator.plugins!==a&&typeof navigator.plugins[c]===b)g=navigator.plugins[c].description,g&&typeof navigator.mimeTypes!==a&&navigator.mimeTypes[e]&&navigator.mimeTypes[e].enabledPlugin&&(g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f.major=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),f.minor=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),f.release=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof window.ActiveXObject!==a)try{var h=new window.ActiveXObject(d);h&&(g=h.GetVariable("$version"),g&&(g=g.split(" ")[1].split(","),f.major=parseInt(g[0],10),f.minor=parseInt(g[1],10),f.release=parseInt(g[2],10)))}catch(i){}return f}();return{addCss:d,loadCss:e,loadJs:f,loadImg:g,xhr:h,scaleBySide:i,isEmptyObject:k,mixin:l,deepExtend:m,validateMinMax:n,numSorter:o,createIntUID:p,getQueryParams:q,triggerEvent:r,getDomain:s,isLeftButtonPressed:u,isElementInDocument:v,preventDefault:w,parseXml:x,convertDuration:y,renderTemplate:z,setTimeout:A,checkFlash:a,checkFlashAsync:b,FLASH_READY:C,FLASH_MISSING:B}}(),AdmanHTML.AdRenderer=function(a,b){"use strict";function c(){t.wrapperEl=t.wrapperEl||a.wrapper,t.mainEl=t.mainEl||document.createElement("div"),t.mainEl.parentNode||(t.wrapperEl.childNodes.length?t.wrapperEl.insertBefore(t.mainEl,t.wrapperEl.childNodes[0]):t.wrapperEl.appendChild(t.mainEl),s=!0),t.mainEl.addEventListener("click",t.onClick),window.addEventListener("resize",n)}function d(a){a()}function e(){window.removeEventListener("resize",n),t.mainEl.removeEventListener("click",t.onClick),clearTimeout(p),s&&t.mainEl.parentNode&&t.mainEl.parentNode.removeChild(t.mainEl)}function f(){if(!u&&(u=!0,clearTimeout(p),q)){var a=Date.now()-q;r=1e3*v.duration-a}}function g(){u&&(u=!1,h())}function h(){q=Date.now();var b=r||1e3*v.duration;p=setTimeout(function(){e(),a.cb("onCompleted")},b)}function i(){v.urlToNavigateOnClick&&(window.open(v.urlToNavigateOnClick,"_blank"),b.log("click"),a.cb("onClicked"))}function j(){a.cb("onStarted",[b.sectionType,b.getAdForApp()||{}]),b.log("playbackStarted")}function k(c,d){var e=parseInt(c/d*100);c=parseInt(c),a.cb("onTimeRemained",[{remained:d-c,percent:e,duration:d,currentTime:c}]),b.log("thresholdPValue",e),b.log("thresholdValue",c)}function l(a,b){"string"!=typeof a&&a?t.mainEl.appendChild(a):t.mainEl.innerHTML=a,AdmanHTML.Utils.mixin(t.mainEl.style,b)}function m(a){t.wrapperEl=a}function n(){t.onResize(t.mainEl.offsetWidth,t.mainEl.offsetHeight)}function o(){}var p,q,r,s,t={},u=!1,v=b.getAd();return t={start:c,pause:f,resume:g,skip:d,dispose:e,onClick:i,onStart:j,registerTimer:h,setView:l,setWrapper:m,onTimeRemained:k,onResize:o}},AdmanHTML.AudioAdRenderer=function(a,b){"use strict";function c(){f.mainEl=document.createElement("audio"),g.forEach(function(a){f.mainEl.addEventListener(a,e)}),f.setView(null,{position:"absolute",width:"1px",height:"1px",top:"-10000px",left:"-10000px"}),f.mainEl.src=b.getAd().src,f.mainEl.load(),f.mainEl.play(),f.start()}function d(){f.dispose(),g.forEach(function(a){f.mainEl.removeEventListener(a,e)})}function e(b){switch(b.type){case"loadedmetadata":f.onStart();break;case"play":a.cb("onPlayed");break;case"pause":a.cb("onPaused");break;case"timeupdate":f.onTimeRemained(f.mainEl.currentTime,f.mainEl.duration);break;case"ended":a.cb("onCompleted");break;case"error":a.cb("onError")}}var f=new AdmanHTML.AdRenderer(a,b),g=["loadedmetadata","error","pause","play","timeupdate","ended"];return{start:c,skip:f.skip,dispose:d,pause:function(){f.mainEl.pause()},resume:function(){f.mainEl.play()},setVolume:function(a){f.mainEl.volume=a}}},AdmanHTML.CloseBtnRenderer=function(a,b){"use strict";function c(){f.start();var a=b.getSettings(),c=a.controlsStyle||0,d=g[c],k=h[c];k.bg=k.bg||k.width;var l={};for(var m in j)j.hasOwnProperty(m)&&(l[m]=void 0!==a[m]?a[m]:j[m]);if(l.controlsPaddingTop=l.controlsPaddingTop-l.controlsSafeArea,l.controlsPaddingRight=l.controlsPaddingRight-l.controlsSafeArea,f.setView(AdmanHTML.Utils.renderTemplate(i,{img:d,width:k.width,height:k.height,bg:k.bg}),{position:"absolute",cursor:"pointer"}),AdmanHTML.StyleUtils.applyStyle(f.mainEl,l),k.bg!==k.width){var n=k.bg-k.width,o=function(a){"rb-adman_close"===a.target.className&&(a.target.style.backgroundPosition="-"+n+"px 0")},p=function(a){"rb-adman_close"===a.target.className&&(a.target.style.backgroundPosition="0 0")};f.mainEl.addEventListener("mouseover",o),f.mainEl.addEventListener("mouseout",p),e=function(){f.mainEl.removeEventListener("mouseover",o),f.mainEl.removeEventListener("mouseout",p)}}}function d(){e&&e(),f.dispose()}var e,f=new AdmanHTML.AdRenderer(a,b),g=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASCAMAAAAE/YwaAAABTVBMVEUAAAD4+PiLi4sAAAD////////q6uokJCT4+PiDg4MVFRUAAAD////9/f2AgICwsLC8vLyWlpaTk5MAAADq6urGxsYmJiZra2v29vZ2dnba2trQ0NCmpqbb29unp6c0NDTs7OzPz8+xsbH+/v7///9jY2P///+fn5+ysrLe3t5LS0uzs7PBwcEuLi66urpYWFi3t7cAAAD39/fW1tb8/PzGxsba2tpKSkpUVFR/f39sbGyRkZF2dnaqqqqioqLKyspERET6+vr////l5eX////w8PD////////a2tr////Y2Nj///+Pj4////+Dg4N6enq3t7dkZGSGhoaMjIz///+amppeXl7///9MTExxcXE9PT3///////9CQkL////////////n5+fKysrq6uq9vb2jo6Pk5OScnJyoqKjk5OS9vb2IiIhAQEBeXl7///8RDLJoAAAAbnRSTlNegIEhrIlmZmWAZkky/GeCgYFnBoCAdGbzq4GAgGZmZvHfzaefnJiXkpGKcG5uZmZDQ/fq466sqqeZmJeSd2xnZvnw7Onj2dHMyMfAvLe2tLCwpJGQjH92b25ubFpYUUhA4NrQzsrHvqqolnl5b4/gN4MAAAGhSURBVCjPZdFXbxpBEMDxORYSks1VDrgOpphqwKF34t7j3lt6n+//mOFtkX/Srlaj/8NKAzG2CoJVFns5AVZuhwXtMmP5JgqaeQa8I0UF0i/O01lJkE1zgNyrBTmANWnBGgAs+351PK761cq4UvX9ZYAN0yzYdsEsntqnRdPcoOh8WukgdipeCy11Oj0HaJnFDOLXgp1G68gxWxRFarXJd5R/f0G5OKnVIgBbjjNcQvlHE+WDguNsUSQFweTPJsqIbSMIAglg23U1e30+yQxd192m6MowDCVkIe4pBrkC2I3H4xcf3yN+7sfJLkV3iqLchGi0c6OQO4B9TdPO5tFSXyP7FEWTyeTlJn5APP5HzyjAoapenKTnk0xfVdVDiu7r9esdlM/2UB5e1+v3AGHPG9DHj+gcjDwvTNHj7PYY8eft309oXc5mjwBZfZRB/DboraN1outZip5SqZVEYoWu+Z16oh3oer7bzeujXrc30PUcRc+vFzzTDkILaAe88fBW8NDgvKS+EaglDizReCdoJBgrlyKCUplBjHEQcBZ7OfkPWYpTXkAiSDwAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANBAMAAACAxflPAAAAGFBMVEX///8AAAD///////////////////////8GrCwdAAAACHRSTlPMAKZNgI0NmlQIVC0AAABMSURBVAjXYxAUVmBQFhRgEFNgYGBQE2AQYgACJgEGA6YAhiAGAwYFVhEWcQaQpKOhAwMIMAsDCRgfLC8KlDdgKmAoYjCA6oebBzMfAF6oBtnQTZWMAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAA0CAMAAABRjo0fAAAARVBMVEUAAAAAAAAAAAD///+3t7e3t7cAAAAtLS3FxcUAAAAtLS3z8/Px8fHIyMjCwsJKSkpKSkoAAAAAAAD29vbi4uLi4uL////qCBnnAAAAFnRSTlMAgE2Zx3c4jHxiVJLy0s2VWR8K9eSJJoi7pQAAAS1JREFUWMPs0DkSwzAIQNFoV+R90/2PGg0DTQI2RQoX/hUN84ReT09Pf22JViwu/E58G7F3ZFdWZERqZXaQEamVgdCRY95Hjiwx/2YvW37eZi6L/EEld46pywVOYg9KQ1+Z+iHxJ4EDDEuB9L0DzlaFNpBYKDuxLEFDFRtEqJOhToJ6GepFyJ0kQfWku0DHXLLDcpkPDbRPaazYmKZdBc1tCg4KbZw10NQmXyHfxkkFFQsSOrZooGRAQsckFZQtSgGGrIFGg5KHYdRABISAoAIiwHsEVRBJ6KggktDRQCSRo4FIIkcDkUSOBiKJnDtCn1EadIMtMVAheQ+uDEuNImhwFarUqCYGV8VHPYsGvnFCi+YW3RqQdGsS062RT69uC906YvTqWo6CUTAKqAkAIPxHpRLLbKUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAiCAMAAADRYI/HAAAAOVBMVEUAAAD///+7u7uxsbF9fX2Pj4/W1taJiYn39/eTk5PNzc2tra2CgoLx8fHIyMioqKiioqJ3d3fh4eHCLdXsAAAAAXRSTlMAQObYZgAAAPhJREFUSMfszksOgzAMRdFiYoKdL+x/sTWRDJXyppU66BtF6HLk13+/vbTCpac4AtzxFNYTmH32IoQceVrMIXzcQbpNU7pvOcxoNK2Z4reYcS5gJ/kpZigq1BRHyArYkCOx4aLFB9lwst0IEy6Iv4Jo3ZexvSpGUveiJ4woEe2jsIciJLFIuR5FhBNEKq2mDGOlipAuOcpVSMzSITJ+tpgGhpDCMZhiRohcEOKKGxPiCrMbAHHFDYAs44j3wM7BE8VAI4Bm4ItioClAMyBsyg2hsncoD1jKo5jyxEZBsueAJ3sqZsDBWJ5QXjxSXlBTXmVQo/KiZjUKAAVsE9yzWNzOAAAAAElFTkSuQmCC"],h=[{
width:18,height:18,bg:36},{width:13,height:13},{width:26,height:26,bg:52},{width:17,height:17,bg:34}],i='<div class="rb-adman_close" style="background:url({{img}});background-size:{{bg}}px 100%;width:{{width}}px;height:{{height}}px""></div>',j={controlsPaddingTop:3,controlsPaddingRight:0,controlsSafeArea:0};return f.onClick=function(b){b.stopPropagation(),"rb-adman_close"===b.target.className&&a.cb("onClosed")},{start:c,dispose:d,setWrapper:f.setWrapper}},AdmanHTML.DebugAdRenderer=function(a,b){"use strict";function c(){d.mainEl=document.createElement("span"),d.start(),d.setView("&#9874; "+b.section,{position:"absolute",cursor:"pointer",top:"5px",left:"5px",background:"rgba(204,204,204,0.8)",padding:"5px",color:"#333","border-radius":"6px",font:"12px/19px Tahoma",display:"inline-block","z-index":100})}var d=new AdmanHTML.AdRenderer(a,b),e=b.getAd();return d.onClick=function(){window.open(e.urlToNavigateOnClick,"_blank")},{start:c,dispose:d.dispose}},AdmanHTML.EmptyAdRenderer=function(a,b){"use strict";function c(){b.log("sectionEmpty"),setTimeout(function(){a.cb("onCompleted")})}return{start:c}},AdmanHTML.ImgAdRenderer=function(a,b){"use strict";function c(){e.start(),e.registerTimer(),AdmanHTML.Utils.addCss(h,g);var a=b.getAd();e.setView(AdmanHTML.Utils.renderTemplate(i,a),{position:"absolute",display:"inline-block",width:"100%","max-width":a.width+"px",left:"50%",bottom:0,transform:"translate(-50%,0)","box-sizing":"border-box",overflow:"hidden","text-align":"center"});var c=b.getSettings(),d=e.mainEl.querySelector(".rb-adman_age_wrapper");if(c&&c.advertisment&&c.advertisment.image){var j=c.advertisment.image;AdmanHTML.StyleUtils.applyStyle(e.mainEl,j,"fontFace contentIndent hasBackground backgroundColor backgroundAlpha cornerRounding".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_image_wrapper"),j,"borderSize borderColor borderAlpha borderCornerRounding".split(" "));var k=c.advertisment.image.ageRestrictions;a.ageRestrictions&&k&&(AdmanHTML.StyleUtils.applyStyle(d,k),AdmanHTML.StyleUtils.applyStyle(d.querySelector(".rb-adman_age_content"),k,["textUnderline"]))}a.ageRestrictions||d.parentNode.removeChild(d),f.setWrapper(e.mainEl),f.start(),e.onStart()}function d(){e.dispose(),f.dispose()}var e=new AdmanHTML.AdRenderer(a,b),f=new AdmanHTML.CloseBtnRenderer(a,b),g="rb-adman-img-style",h=".rb-adman_image_overlay {display:inline-block; overflow:hidden;vertical-align:middle;cursor:pointer;color:#fff}.rb-adman_image_overlay .rb-adman_image_wrapper {display:block;border:0px solid transparent;overflow:hidden;}.rb-adman_image_overlay .rb-adman_image_wrapper img {vertical-align:top;}.rb-adman_image_overlay .rb-adman_age_wrapper {display:block;position:absolute;top:0px;left:3px;border:0px solid transparent;margin-right:1px;text-decoration:none!important}",i='<div class="rb-adman_image_overlay"><div class="rb-adman_image_wrapper"><img src="{{src}}" width="100%" height="auto"></div><span class="rb-adman_age_wrapper"><span class="rb-adman_age_content">{{ageRestrictions}}</span></span></div>';return{start:c,pause:e.pause,resume:e.resume,skip:e.skip,dispose:d}},AdmanHTML.StatisticsAdRenderer=function(a,b){"use strict";function c(){b.log("playbackStarted"),AdmanHTML.Utils.setTimeout(function(){a.cb("onCompleted")})}return{start:c}},AdmanHTML.SwfAdRenderer=function(a,b){"use strict";function c(){e.start(),AdmanHTML.Utils.checkFlashAsync(function(c){c===AdmanHTML.Utils.FLASH_READY?(e.registerTimer(),e.setView(d(b.getAd().src,{width:"100%",height:"100%"},{}),{position:"absolute",top:0,left:0,right:0,bottom:0,"background-color":"black"}),e.onStart()):a.cb("onError")})}function d(a,b,c){var d,e,f=b||{},g=c||{};f.type="application/x-shockwave-flash",window.ActiveXObject?(f.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",g.movie=a):f.data=a,e="<object";for(d in f)f.hasOwnProperty(d)&&(e+=" "+d+'="'+f[d]+'"');e+=">";for(d in g)g.hasOwnProperty(d)&&(e+='<param name="'+d+'" value="'+g[d]+'" />');return e+="</object>"}var e=new AdmanHTML.AdRenderer(a,b);return{start:c,skip:e.skip,dispose:e.dispose,createSwfObject:d,"super":e}},AdmanHTML.TextAdRenderer=function(a,b){"use strict";function c(){e.start(),e.registerTimer(),AdmanHTML.Utils.addCss(h,g);var a=AdmanHTML.Utils.mixin({header:"",body:"",hyperlinkText:""},b.getAd());e.setView(AdmanHTML.Utils.renderTemplate(i,a),{position:"absolute",margin:"0 auto",left:0,right:0,bottom:0,"box-sizing":"border-box",overflow:"hidden"});var c=b.getSettings();if(c&&c.advertisment&&c.advertisment.text){var d=c.advertisment.text;AdmanHTML.StyleUtils.applyStyle(e.mainEl,d,"fontFace width height contentPadding hasBackground backgroundColor backgroundAlpha cornerRounding".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_header"),d,"headerColor headerSize headerUnderline headerBold headerIndent".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_header_text"),d,["headerUnderlineOnRollOver"]),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_body"),d,"bodyColor bodySize bodyUnderline bodyLeading bodyIndent bodyPaddingRight".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_link"),d,"hyperlinkColor hyperlinkSize hyperlinkUnderline hyperlinkIndent".split(" "));var j=c.advertisment.text.ageRestrictions,k=e.mainEl.querySelector(".rb-adman_age_wrapper");a.ageRestrictions?j&&(AdmanHTML.StyleUtils.applyStyle(k,j),AdmanHTML.StyleUtils.applyStyle(k.querySelector(".rb-adman_age_content"),j,["textUnderline"])):k.parentNode.removeChild(k);var l=e.mainEl.querySelector(".rb-adman_image_wrapper span");if(d.noImage)l.parentNode.removeChild(l);else if(d.contentPadding&&(l.style.marginRight=AdmanHTML.StyleUtils.getLength(d.contentPadding)),d.maxImageHeight||d.maxImageWidth){var m=a.width/a.height;l.style.width=AdmanHTML.StyleUtils.getLength(Math.round(d.maxImageWidth||d.maxImageHeight*m)),l.style.height=AdmanHTML.StyleUtils.getLength(Math.round(d.maxImageHeight||d.maxImageWidth/m))}}f.setWrapper(e.mainEl),f.start(),e.onStart()}function d(){e.dispose(),f.dispose()}var e=new AdmanHTML.AdRenderer(a,b),f=new AdmanHTML.CloseBtnRenderer(a,b),g="rb-adman-text-style",h=".rb-adman_text_overlay {display:block; overflow:hidden;height:100%;cursor:pointer;color:#fff}.rb-adman_text_overlay .rb-adman_image_wrapper {display:block;float:left;position:relative;height:100%;vertical-align:middle}.rb-adman_text_overlay .rb-adman_image_wrapper span {display:inline-block;vertical-align:middle;background-size:contain;background-position:center}.rb-adman_text_overlay .rb-adman_text_wrapper {display:block;overflow:hidden;height:100%;vertical-align:top;line-height:1.2}.rb-adman_text_overlay .rb-adman_header {display:block;white-space:nowrap;margin-right:20px;overflow:hidden;text-overflow:ellipsis}.rb-adman_text_overlay .rb-adman_age_wrapper {display:inline-block; vertical-align:middle;border:0px solid transparent;margin-right:1px;text-decoration:none!important}.rb-adman_text_overlay .rb-adman_header_text {color:inherit;text-decoration:none;letter-spacing:normal;line-height:1.5;vertical-align:middle}.rb-adman_text_overlay .rb-adman_header_text:hover {color:inherit;text-decoration:underline}.rb-adman_text_overlay .rb-adman_body {padding:2px 0}.rb-adman_text_overlay .rb-adman_body, .rb-adman_link {display:block;text-decoration:none;padding-top:2px}",i='<div class="rb-adman_text_overlay"><div class="rb-adman_image_wrapper"><div style="display:table;height:100%;"><div style="display:table-cell;height:100%;vertical-align:middle"><span style="background-image: url({{src}});width:{{width}}px;height:{{height}}px"></span></div></div></div><div class="rb-adman_text_wrapper"><span class="rb-adman_header"><span class="rb-adman_age_wrapper"><span class="rb-adman_age_content">{{ageRestrictions}}</span></span><span class="rb-adman_header_text">{{header}}</span></span><span class="rb-adman_body">{{body}}</span><span class="rb-adman_link">{{hyperlinkText}}</span></div></div>';return{start:c,pause:e.pause,resume:e.resume,skip:e.skip,dispose:d}},AdmanHTML.VideoAdRenderer=function(a,b){"use strict";function c(){g.mainEl=a.videoEl,h.forEach(function(a){g.mainEl.addEventListener(a,e)}),g.mainEl.parentNode?i={src:g.mainEl.src,time:g.mainEl.currentTime}:g.setView(null,{position:"absolute",width:"100%",height:"100%",top:0}),g.mainEl.controls=a.browser.mobile,g.mainEl.src=b.getAd().src,g.mainEl.load(),f(0),g.mainEl.play(),g.start()}function d(){g.dispose(),h.forEach(function(a){g.mainEl.removeEventListener(a,e)}),i.src?(g.mainEl.src=i.src,g.mainEl.load(),g.mainEl.play(),f(i.time)):g.mainEl.src=""}function e(b){switch(b.type){case"loadedmetadata":g.onStart();break;case"play":a.cb("onPlayed");break;case"pause":a.cb("onPaused");break;case"timeupdate":g.onTimeRemained(g.mainEl.currentTime,g.mainEl.duration);break;case"ended":a.cb("onCompleted");break;case"error":a.cb("onError")}}function f(a){if(g.mainEl)try{g.mainEl.currentTime=a}catch(b){}}var g=new AdmanHTML.AdRenderer(a,b),h=["loadedmetadata","error","pause","play","timeupdate","ended"],i={};return{start:c,skip:g.skip,dispose:d,pause:function(){g.mainEl.pause()},resume:function(){g.mainEl.play()},setVolume:function(a){g.mainEl.volume=a}}},AdmanHTML.VpaidJsAdRenderer=function(a,b){"use strict";function c(){var a;if(!i)return s.duration;try{a=i.callGet("adDuration"),"undefined"==typeof a&&(a=s.duration)}catch(b){a=s.duration}return a}function d(){r.start(),a.videoEl.parentNode?(k=a.videoEl.parentNode,l=a.videoEl.nextSibling):j=!0,r.wrapperEl.insertBefore(a.videoEl,r.wrapperEl.childNodes[0]),AdmanHTML.Utils.mixin(a.videoEl.style,{position:"absolute",width:"100%",height:"100%",top:0});var c=b.getSettings();c&&(c.loadTimeout&&(t=c.loadTimeout),c.startTimeout&&(u=c.startTimeout)),a.cb("onStarted",[b.sectionType,b.getAdForApp()||{}]),f(t),r.setView(i.load(s.src,a.config.vpaidHtmlInterface),{position:"absolute",top:0,left:0,right:0,bottom:0,"background-color":"transparent"})}function e(){j&&a.videoEl.parentNode?a.videoEl.parentNode.removeChild(a.videoEl):k&&k.insertBefore(a.videoEl,l),g(),i.destroy(),r.dispose()}function f(a){g(),n=setTimeout(h,a)}function g(){clearTimeout(n)}function h(){p=!0,g(),b.log("error"),a.cb("onError")}var i,j,k,l,m,n,o,p,q,r=new AdmanHTML.AdRenderer(a,b),s=b.getAd(),t=500,u=1e3;r.onResize=function(a,b){i&&i.call("resizeAd",[a,b,"normal"])},r.onClick=function(){};var v=function(d,e){if(!p){var h,j;switch(d){case"loaded":f(t);break;case"vpaidloaded":g();break;case"inited":var k=i.call("handshakeVersion",["2.0"]);k?(f(u),i.call("initAd",[r.mainEl.offsetWidth,r.mainEl.offsetHeight,"normal",s.bitrate,{AdParameters:s.params}])):a.cb("onError");break;case"AdStarted":g(),"undefined"!=typeof o&&i.callSet("adVolume",o);break;case"AdLoaded":f(u),b.log("playbackStarted"),i.call("startAd");break;case"AdRemainingTimeChange":h=c(),j=i.callGet("adRemainingTime"),h>0&&j>=0&&r.onTimeRemained(h-j,h);break;case"AdVideoComplete":h=c(),r.onTimeRemained(h,h);break;case"AdStopped":case"AdSkipped":q||(q=!0,setTimeout(function(){m?m():a.cb("onCompleted")}));break;case"AdClickThru":e.url&&e.playerHandles&&window.open(e.url,"_blank"),b.log("click"),a.cb("onClicked");break;case"AdError":a.stats.logError("EXTERNAL_JS_ADVERTISMENT_ERROR:"+(e&&e.message||"")),a.cb("onError");break;case"AdPaused":a.cb("onPaused");break;case"AdPlaying":a.cb("onPlayed");break;case"AdUserClose":b.log("closedByUser")}}};return i=new AdmanHTML.VpaidLoader(a.videoEl),i.onVpaidEvent(v),{start:d,dispose:e,pause:function(){i&&i.call("pauseAd")},resume:function(){i&&i.call("resumeAd")},setVolume:function(a){i&&i.callSet("adVolume",a),o=a},skip:function(a){m=a;try{i&&i.call("skipAd")}catch(b){}}}},AdmanHTML.VpaidSwfAdRenderer=function(a,b){"use strict";function c(){var a;if(!i)return p.duration;try{a=i.callGet("adDuration")||p.duration}catch(b){a=p.duration}return a}function d(){o.start();var c=b.getSettings();c&&(c.loadTimeout&&(r=c.loadTimeout),c.startTimeout&&(s=c.startTimeout)),AdmanHTML.Utils.checkFlashAsync(function(c){if(c===AdmanHTML.Utils.FLASH_READY){a.cb("onStarted",[b.sectionType,b.getAdForApp()||{}]),f(r);var d="vpaidSwfUrl="+encodeURIComponent(p.src)+"&proxyMethodName="+q;o.setView(n.createSwfObject(a.config.vpaidJsInterface,{width:"100%",height:"100%"},{flashvars:d,allowScriptAccess:"always",wmode:"opaque"}),{position:"absolute",top:0,left:0,right:0,bottom:0,"background-color":"black"})}else a.cb("onError")})}function e(){g(),o.dispose(),window[q]=null}function f(a){g(),k=setTimeout(h,a)}function g(){clearTimeout(k)}function h(){m=!0,g(),b.log("error"),a.cb("onError")}var i,j,k,l,m,n=new AdmanHTML.SwfAdRenderer(a,b),o=n["super"],p=b.getAd(),q="vpaidProxyMethod"+Date.now(),r=500,s=1e3;return o.onResize=function(a,b){i&&i.call("resizeAd",[a,b,"normal"])},o.onClick=function(){},window[q]=function(d,e){if(!m){var h;switch(d){case"loaded":f(r);break;case"vpaidloaded":g();break;case"inited":i=o.mainEl.getElementsByTagName("object")[0];var k=i.call("handshakeVersion",["2.0"]);k?(f(s),i.call("initAd",[o.mainEl.offsetWidth,o.mainEl.offsetHeight,"normal",p.bitrate,p.params,""])):a.cb("onError");break;case"AdStarted":g(),"undefined"!=typeof l&&i.callSet("adVolume",l);break;case"AdLoaded":f(s),b.log("playbackStarted"),i.call("startAd");break;case"AdRemainingTimeChange":h=c(),o.onTimeRemained(h-i.callGet("adRemainingTime"),h);break;case"AdVideoComplete":h=c(),o.onTimeRemained(h,h);break;case"AdStopped":case"AdSkipped":setTimeout(function(){j?j():a.cb("onCompleted")});break;case"AdClickThru":b.log("click"),a.cb("onClicked");break;case"AdError":a.stats.logError("EXTERNAL_SWF_ADVERTISMENT_ERROR:"+(e&&e.message||"")),a.cb("onError");break;case"AdPaused":a.cb("onPaused");break;case"AdPlaying":a.cb("onPlayed");break;case"AdUserClose":b.log("closedByUser")}}},{start:d,dispose:e,pause:function(){i&&i.call("pauseAd")},resume:function(){i&&i.call("resumeAd")},setVolume:function(a){i&&i.callSet("adVolume",a),l=a},skip:function(a){j=a;try{i&&i.call("skipAd")}catch(b){}}}};
window.admanAsyncInit&&setTimeout(admanAsyncInit);